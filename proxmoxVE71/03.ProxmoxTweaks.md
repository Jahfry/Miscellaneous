# Proxmox VE 7.1 NAS and Gaming VMs - 03 - Proxmox Tweaks

## UI Adjustments

*These are* ***entirely optional*** and modify system files in a way that may be overridden in future updates. In which case you may need to re-apply them. To be 100% safe you can revert these prior to applying updates but that shouldn't be needed. 

I just do these first thing as it makes doing the rest of the admin tasks a bit nicer for me. 

* Dark Mode
    + There isn't an official way to get Dark Mode on your Proxmox UI
    + [PVEDiscordDark](https://github.com/Weilbyte/PVEDiscordDark) works very well and can be easily uninstalled if you don't like it. Use the instructions there, including a shift+reload in your browser, and come back here. 

* Remove the "No Subscription" popups
    + Honestly these are pretty mild popups, but just like Dark Mode, you likely already know you don't have a subscription and if you're using this guide you likely won't be getting one (though it's really nice to me to know I can in the future if needed). 
    + [Use Dannyda's script](https://dannyda.com/2020/05/17/how-to-remove-you-do-not-have-a-valid-subscription-for-this-server-from-proxmox-virtual-environment-6-1-2-proxmox-ve-6-1-2-pve-6-1-2/)
        - There are multiple versions listed, use the one for 7.1 (the last one, in chronological order)
        - This creates a backup of the original file. To revert the change just do this: `mv /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js.backup /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js && systemctl restart pveproxy.service` (shift+reload your browser to load the change)
    + ~~Follow the instructions on [John's Computer Services](https://johnscs.com/remove-proxmox51-subscription-notice/).~~  ... for now don't use this one as it blocks some UI elements. I've reported the problem to him. 
    + Alternately if you want to keep this change active through updates, I found [PVE Nag Buster](https://github.com/foundObjects/pve-nag-buster/) from this [Reddit thread](https://www.reddit.com/r/Proxmox/comments/tgojp1/removing_proxmox_subscription_notice/). I've chosen to use the simple edit from Dannyda above for now as I don't want the additional package installed. Your choice may vary. 

---

## System Setup

These are ***recommended*** changes and some may be critical. 

### Free/non-Subscription Repo

* Navigate to 'Datacenter' > [your Proxmox host name] > 'Updates' > 'Repositories'
    + **No need to do this if you DO have a subscription. But for the home user this is needed to get updates running.** 
    + click the 'Add' button and add the "No-Subscription" repo
    + click the line for "https://enterprise.proxmox.com/debian/pve" (components has "pve-enterprise") and then click the 'Disable' button

### System Update

* 'Datacenter' > [your machine] > 'Updates'
    + 'Refresh' (and click the top-right 'X' when you see "TASK OK")
    + '>_ Upgrade'
        - opens a window with a shell
        - if all looks good, hit [enter] to accept the 'Y/n' prompt
        - let it run
            * it's done when you see the shell prompt return
            * look to see if the last message recommends a reboot
            * close the shell window
        - if it recommended reboot, do so (shutdown VMs/etc if running) with the 'Reboot' button in the UI
        - if this included a kernel update
            * you will see multiple kernels to select on boot
            * default is going to be the kernel you just installed

## Import Existing ZFS Pool

**Skip this if you don't have any ZFS pools from previous systems**

I created a ZFS striped pool with my 2 4TB "scratch" disks on a previous system that has data I want to access now (it has my .iso files and support utilities). It's very easy to import this existing pool into Proxmox. As long as you remember the name of the pool. If you don't, the following won't help you figure it out but you should be able to search for that information. 

* Open a root shell 
    + if you have a way to SSH from a terminal, do that via `ssh root@[yourhostip]` ... switching views in the Proxmox UI shell will keep closing the shell
    + if you don't, then you can use the web shell, just make sure you're done with what you're working on before clicking out of it each time (or open a new tab just for the shell)
* `zpool import [poolname]`
    + ie, in my case the pool name is 'xfer', so the command would be `zpool import xfer`
    + if this command complains that the pool was in use before (mine was created on a TrueNAS machine), add -f like: `zpool import -f xfer`
* At this point the pool should be mounted at the filesystem root (ie, "/xfer") and visible in the Proxmox UI. I am not doing any configuration of the mount point or parameters as this is just being used to access files temporarily until I can move them to their final resting place. 



---

---

---

## Hardware Components

* 
    + 
        - 
            * 

---
> [^ [TOP OF PAGE](#proxmox-ve-71-nas-and-gaming-vms---03---proxmox-tweaks)] ... ***End:*** *Proxmox VE 7.1 NAS and Gaming VMs - Proxmox Tweaks*
> 
> \> NEXT: [04 - Replace Me](03.ReplaceMe.md)
>
> \< PREV: [02 - ProxmoxInstall](02.ProxmoxInstall.md)
Other stuff: Windows on USB for firmware/benchmarks/etc
